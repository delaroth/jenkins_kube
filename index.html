<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Digital Companion</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom CSS for the page's overall appearance and animations */
        body {
            font-family: 'Inter', sans-serif; /* Set font to Inter */
            margin: 0; /* Remove default body margin */
            overflow: hidden; /* Hide scrollbars */
            background-color: #0c0c1a; /* Very dark blue/purple background */
            display: flex; /* Use flexbox for centering */
            justify-content: center;
            align-items: center;
            min-height: 100vh; /* Ensure body takes at least full viewport height */
            cursor: default; /* Default cursor */
            position: relative; /* Needed for absolute positioning of elements */
            user-select: none; /* Prevent text selection */
        }

        /* Styling for the digital pet orb */
        #petOrb {
            width: 100px;
            height: 100px;
            background: radial-gradient(circle at 30% 30%, #a78bfa, #6d28d9); /* Purple gradient */
            border-radius: 50%; /* Perfect circle */
            position: absolute; /* Allows movement via JS */
            box-shadow: 0 0 40px rgba(167, 139, 250, 0.8), 0 0 80px rgba(109, 40, 217, 0.5); /* Glowing effect */
            transition: transform 0.1s ease-out, background 0.3s ease-out, box-shadow 0.3s ease-out; /* Smooth transitions */
            will-change: transform, background, box-shadow; /* Optimize rendering */
            z-index: 10; /* Ensure it's above particles */
            transform: translate(-50%, -50%); /* Center the orb precisely */
        }

        /* Hover effect for the pet orb */
        #petOrb:hover {
            transform: translate(-50%, -50%) scale(1.1); /* Slightly grow on hover */
            box-shadow: 0 0 60px rgba(167, 139, 250, 1), 0 0 100px rgba(109, 40, 217, 0.7); /* Brighter glow */
        }

        /* Styling for the particles emitted by the pet */
        .particle {
            position: absolute;
            background-color: rgba(255, 255, 255, 0.8); /* White semi-transparent */
            border-radius: 50%; /* Circular particles */
            opacity: 0; /* Start invisible */
            animation: particleFadeOut 1.5s forwards ease-out; /* Particle animation */
            will-change: transform, opacity; /* Optimize rendering */
            z-index: 5; /* Below the orb */
        }

        /* Keyframe animation for particles: fade out and move */
        @keyframes particleFadeOut {
            from { opacity: 0.8; transform: scale(1); }
            to { opacity: 0; transform: scale(0.5); }
        }

        /* Styling for the hidden message */
        #hiddenMessage {
            position: absolute;
            color: #e0e7ff; /* Light blue text */
            font-size: 2rem; /* Base font size */
            font-weight: 600; /* Semi-bold text */
            opacity: 0; /* Initially invisible */
            transform: translateY(50px); /* Start below its final position */
            transition: opacity 2s ease-in-out, transform 2s ease-in-out; /* Smooth reveal */
            text-align: center;
            padding: 20px 30px;
            background: rgba(20, 20, 40, 0.7); /* Semi-transparent dark background */
            border-radius: 1rem; /* Rounded corners */
            box-shadow: 0 0 20px rgba(109, 40, 217, 0.5); /* Subtle purple glow */
            z-index: 100; /* Ensure it's on top */
            max-width: 80%; /* Max width for responsiveness */
            /* Responsive font sizes */
            @apply text-2xl md:text-3xl lg:text-4xl;
        }

        /* Class to reveal the hidden message */
        #hiddenMessage.revealed {
            opacity: 1;
            transform: translateY(0);
        }
    </style>
</head>
<body>
    <div id="petOrb" style="left: 50%; top: 50%;"></div>

    <div id="hiddenMessage">
        You've found a friend in the digital void!
    </div>

    <script>
        // Ensure the Inter font is applied to the document's root element
        document.documentElement.style.fontFamily = "'Inter', sans-serif";

        // Get references to DOM elements
        const body = document.body;
        const petOrb = document.getElementById('petOrb');
        const hiddenMessage = document.getElementById('hiddenMessage');

        // Orb position and velocity
        let orbX = window.innerWidth / 2;
        let orbY = window.innerHeight / 2;
        let orbVX = 0;
        let orbVY = 0;

        // Mouse position
        let mouseX = window.innerWidth / 2;
        let mouseY = window.innerHeight / 2;

        // Interaction state
        let interactionCount = 0;
        const revealThreshold = 10; // Number of interactions before message reveals
        let messageRevealed = false; // Flag to prevent multiple reveals

        /**
         * Updates the orb's position and creates particles.
         */
        function animateOrb() {
            // Calculate force towards mouse
            const dx = mouseX - orbX;
            const dy = mouseY - orbY;
            const distance = Math.sqrt(dx * dx + dy * dy);

            // Apply attraction force
            const attractionStrength = 0.02; // How strongly the orb follows the mouse
            orbVX += dx * attractionStrength;
            orbVY += dy * attractionStrength;

            // Apply damping to prevent infinite acceleration
            const damping = 0.9;
            orbVX *= damping;
            orbVY *= damping;

            // Update orb position
            orbX += orbVX;
            orbY += orbVY;

            // Keep orb within bounds (optional, but good for control)
            const padding = 50; // Keep orb away from edges
            orbX = Math.max(padding, Math.min(orbX, window.innerWidth - padding));
            orbY = Math.max(padding, Math.min(orbY, window.innerHeight - padding));

            // Apply new position to the orb using transform for performance
            petOrb.style.left = `${orbX}px`;
            petOrb.style.top = `${orbY}px`;

            // Request next animation frame
            requestAnimationFrame(animateOrb);
        }

        /**
         * Creates a small particle element and animates it.
         * @param {number} x - X coordinate for the particle.
         * @param {number} y - Y coordinate for the particle.
         */
        function createParticle(x, y) {
            const particle = document.createElement('div');
            const size = Math.random() * 8 + 4; // Random size between 4px and 12px
            particle.className = 'particle';
            particle.style.width = `${size}px`;
            particle.style.height = `${size}px`;
            particle.style.left = `${x}px`;
            particle.style.top = `${y}px`;
            body.appendChild(particle);

            // Random direction and speed for particle movement
            const angle = Math.random() * Math.PI * 2;
            const speed = Math.random() * 30 + 20; // Distance to travel
            const targetX = x + Math.cos(angle) * speed;
            const targetY = y + Math.sin(angle) * speed;

            // Apply animation using CSS transform for smooth movement
            particle.style.transform = `translate(${targetX - x}px, ${targetY - y}px)`;

            // Remove particle after its animation
            particle.addEventListener('animationend', () => {
                particle.remove();
            });
        }

        /**
         * Handles mouse movement over the body.
         * Updates mouseX, mouseY and triggers particle emission if over the orb.
         * @param {MouseEvent} e - The mouse event object.
         */
        body.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;

            // Check if mouse is over the orb to emit particles
            const orbRect = petOrb.getBoundingClientRect();
            const orbCenterX = orbRect.left + orbRect.width / 2;
            const orbCenterY = orbRect.top + orbRect.height / 2;
            const distanceToOrb = Math.sqrt(
                Math.pow(e.clientX - orbCenterX, 2) +
                Math.pow(e.clientY - orbCenterY, 2)
            );

            // Emit particles if mouse is close to the orb
            if (distanceToOrb < orbRect.width / 2 + 20) { // Add a small buffer
                if (Math.random() < 0.3) { // Emit particles randomly
                    createParticle(e.clientX, e.clientY);
                }
            }
        });

        /**
         * Handles clicks on the body.
         * Triggers a 'pet' reaction and reveals message after threshold.
         */
        body.addEventListener('click', () => {
            interactionCount++;

            // Change orb color temporarily on click
            petOrb.style.background = 'radial-gradient(circle at 30% 30%, #facc15, #eab308)'; // Yellow gradient
            setTimeout(() => {
                petOrb.style.background = 'radial-gradient(circle at 30% 30%, #a78bfa, #6d28d9)'; // Back to purple
            }, 200); // Quick flash

            // Emit a burst of particles on click
            for (let i = 0; i < 5; i++) {
                createParticle(orbX + Math.random() * 20 - 10, orbY + Math.random() * 20 - 10);
            }

            // Reveal message if interaction threshold is met and not already revealed
            if (interactionCount >= revealThreshold && !messageRevealed) {
                hiddenMessage.classList.add('revealed');
                messageRevealed = true;
            }
        });

        // Start the orb animation loop when the page loads
        window.onload = function() {
            animateOrb();
        };

        // Handle window resizing: Adjust orb position to stay centered if it was initially centered
        window.addEventListener('resize', () => {
            if (!messageRevealed) { // Only recenter if message hasn't been revealed yet
                orbX = window.innerWidth / 2;
                orbY = window.innerHeight / 2;
                petOrb.style.left = `${orbX}px`;
                petOrb.style.top = `${orbY}px`;
            }
        });
    </script>
</body>
</html>
